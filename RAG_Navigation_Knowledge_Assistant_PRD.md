# 导航知识库助手（RAG）--- 产品需求文档 PRD（v0.1）

> 版本：v0.1（MVP）\
> 面向：智能座舱导航业务团队\
> 目标：提升文档查阅效率、加速新人上手、减少重复问答\
> 实现方式：基于 LangChain v1（LCEL） + RAG 技术的内部知识库问答助手

## 1. 产品背景 & 目标

### 1.1 背景

导航业务团队内部有大量文档（需求、设计说明、接口文档、流程规范、checklist、SDK依赖说明等）。\
目前痛点包括：

-   文档分散在飞书知识库多个目录，查找成本高\
-   飞书搜索对"技术类文档"召回效果不理想\
-   新同事需要大量时间理解业务架构、流程、接口关系\
-   老同事经常重复回答同样的问题

### 1.2 目标

构建一个**本地运行、多格式文档解析、自然语言检索问答的 RAG 智能助手**。

用户可：

-   查询业务背景\
-   查询接口含义\
-   查询流程规范\
-   查询 check 项要求\
-   查询导航相关设计

系统返回：

-   高质量总结回答\
-   文档来源（文件名 + 页码）\
-   流式输出

------------------------------------------------------------------------

## 2. 核心功能（v0.1 MVP）

### 2.1 文档处理

-   支持 `.pdf`、`.docx`、`.md`、`.txt`\
-   自动 chunk\
-   自动生成向量库\
-   每个 chunk 含 metadata（文件名/页码等）

### 2.2 RAG Pipeline

-   支持自然语言问答\
-   自动检索相关内容\
-   自动总结\
-   流式输出\
-   来源引用

### 2.3 使用方式

#### CLI

    python ask.py "地图推包流程是怎样的？"

#### Web UI（Streamlit）

-   左侧：流式回答\
-   右侧：引用文档列表

------------------------------------------------------------------------

## 3. 非功能性需求（NFR）

  项目       需求
  ---------- --------------------
  安全性     全本地，不上传外网
  可维护性   文档更新可重建索引
  性能       LLM 响应 \< 3s
  可扩展性   后续可加飞书 API
  部署       单机可运行

------------------------------------------------------------------------

## 4. v0.1 语料范围

建议加入：

-   AI灵图FSA接口文档\
-   AI灵图综合与目标\
-   性能指标统计方式\
-   Bug fix & comments 流程要求\
-   Launcher 接口说明\
-   NDLB Map Service CLEA spec\
-   Data Security Requirement\
-   Location Based Service\
-   SDK 确认文档\
-   报认规则与 bug 日志要求\
-   代码提交流程规范\
-   分支管理\
-   高德地图推包教程

------------------------------------------------------------------------

## 5. 技术方案

### 5.1 文档解析

-   PDF: PyPDFLoader\
-   DOCX: Docx2txtLoader\
-   Markdown/TXT

### 5.2 向量库

-   FAISS（推荐：轻量、快、稳定）

### 5.3 Embedding

-   BGE-small-zh-v1.5

### 5.4 LLM

-   DeepSeek Chat / GPT-4o-mini

### 5.5 框架

-   LangChain v1（LCEL）\
-   Streamlit

------------------------------------------------------------------------

## 6. Roadmap

### v0.1

-   文档解析\
-   向量库构建\
-   RAG pipeline\
-   引用显示

### v0.2

-   Query Rewrite\
-   MMR、多路检索\
-   更好 chunk 策略

### v0.3

-   飞书 API 同步\
-   飞书机器人\
-   权限控制

------------------------------------------------------------------------

## 7. 简历描述（示例）

> **导航知识库助手（RAG） \| LangChain v1 + DeepSeek + FAISS**\
> - 基于团队文档构建本地知识库，使用 BGE 嵌入模型和 FAISS
> 实现向量检索。\
> - 用 LCEL 构建 RAG，支持流式输出与文档来源显示。\
> - 帮助新人快速理解导航业务流程、接口和架构。\
> - 规划接入飞书 API，实现文档自动同步与机器人问答。
